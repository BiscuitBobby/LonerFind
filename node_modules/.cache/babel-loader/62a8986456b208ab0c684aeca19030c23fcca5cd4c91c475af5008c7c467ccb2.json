{"ast":null,"code":"import _slicedToArray from\"/home/wreck/Desktop/Projects/react_projects/mapapp/online.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import Cookies from'js-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var _this=this;var setToken=_ref.setToken;var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername_=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(username);console.log(password);Cookies.set('username',username);axios.defaults.withCredentials=true;axios.post(\"https:django.biscuitbobby.me/auth/\",{username:username,password:password}).then(function(res){Cookies.set('token',res.data['token']);_this.setState({username:\"\",password:\"\"});}).catch(function(err){});navigate('/map');};return/*#__PURE__*/_jsx(\"div\",{className:\"Container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Title\",children:\"LonerFind\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"logintitle\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Cardbody\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"userflex\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"labeluser\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"inputuser\",placeholder:\"Username\",onChange:function onChange(e){return setUsername_(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pwdflex\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"labelpwd\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"inputpwd\",placeholder:\"Password\",type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonalign\",children:/*#__PURE__*/_jsx(\"button\",{className:\"loginbutton\",onClick:handleSubmit,children:\"Login\"})})]})})]})});}","map":{"version":3,"names":["React","useState","axios","useNavigate","Cookies","jsx","_jsx","jsxs","_jsxs","Login","_ref","_this","setToken","navigate","_useState","_useState2","_slicedToArray","username","setUsername_","_useState3","_useState4","password","setPassword","handleSubmit","e","preventDefault","console","log","set","defaults","withCredentials","post","then","res","data","setState","catch","err","className","children","onSubmit","id","placeholder","onChange","target","value","required","type","onClick"],"sources":["/home/wreck/Desktop/Projects/react_projects/mapapp/online.github.io/src/pages/mainpages/login.js"],"sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom'; \nimport Cookies from 'js-cookie';\n\n\nexport default function Login({setToken}) {\n    const navigate = useNavigate();\n    const [username, setUsername_] = useState('')\n    const [password, setPassword] = useState('');\n\n    const handleSubmit = (e) => {\n       \n        e.preventDefault();\n        console.log(username)\n        console.log(password)\n        Cookies.set('username',username)\n        axios.defaults.withCredentials = true;\n        axios\n            .post(\"https:django.biscuitbobby.me/auth/\", {\n                username: username,\n                password : password,\n            })\n            .then((res) => {\n                Cookies.set('token',res.data['token'])\n                this.setState({\n                    username: \"\",\n                    password: \"\",\n                });\n            })\n            .catch((err) => {});\n            \n            navigate('/map'); \n            \n    };\n    \n\n    return (\n        <div className='Container'>\n            <div className='Card'>\n                <div className='Title'>LonerFind</div>\n                <h1 className='logintitle'>Login</h1>\n                <div className='Cardbody'>\n                    <form onSubmit={handleSubmit}>\n                        <div className='userflex'>\n                            <label id='labeluser' >Username:</label>\n                            <input id='inputuser' placeholder='Username' onChange={e => setUsername_(e.target.value)} required></input>\n                        </div>\n                        <div className='pwdflex'>\n                            <label id='labelpwd'>Password:</label>\n                            <input id='inputpwd'  placeholder='Password' type=\"password\" onChange={e => setPassword(e.target.value)} required></input>\n                        </div>\n                        <div className='buttonalign'>\n                            <button className='loginbutton' onClick={handleSubmit}>Login</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}